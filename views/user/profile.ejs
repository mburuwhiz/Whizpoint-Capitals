<div class="max-w-4xl mx-auto">
  <div class="mb-8">
    <h1 class="text-3xl font-extrabold text-gray-900 dark:text-white">Profile Settings</h1>
    <p class="text-muted">Manage your personal information and account preferences.</p>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
    <div class="md:col-span-1 space-y-6">
      <div class="card text-center">
        <div class="w-24 h-24 bg-primary-100 rounded-full mx-auto flex items-center justify-center text-primary-600 text-3xl font-bold mb-4">
          <%= user.email.charAt(0).toUpperCase() %>
        </div>
        <h3 class="font-bold text-lg"><%= user.email.split('@')[0] %></h3>
        <p class="text-xs text-muted mb-4"><%= user.email %></p>
        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium <%= user.verificationStatus === 'Verified' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800' %>">
          <%= user.verificationStatus %>
        </span>
      </div>

      <nav class="card p-0 overflow-hidden">
        <a href="/profile" class="block px-6 py-4 bg-primary-50 text-primary-600 font-bold border-l-4 border-primary-600">
          <i class="fas fa-user-circle mr-2"></i> General
        </a>
        <a href="/profile/notifications" class="block px-6 py-4 text-gray-600 hover:bg-gray-50 border-l-4 border-transparent transition">
          <i class="fas fa-bell mr-2"></i> Notifications
        </a>
        <a href="/profile/disputes" class="block px-6 py-4 text-gray-600 hover:bg-gray-50 border-l-4 border-transparent transition">
          <i class="fas fa-gavel mr-2"></i> My Disputes
        </a>
        <a href="/verification" class="block px-6 py-4 text-gray-600 hover:bg-gray-50 border-l-4 border-transparent transition">
          <i class="fas fa-id-card mr-2"></i> Verification
        </a>
      </nav>
    </div>

    <div class="md:col-span-2">
      <div class="card">
        <h3 class="text-xl font-bold mb-6">Account Information</h3>
        <form action="/profile" method="POST" class="space-y-6">
          <input type="hidden" name="_csrf" value="<%= csrfToken %>">

          <div>
            <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Email Address</label>
            <input type="email" value="<%= user.email %>" disabled class="input-field bg-gray-50 cursor-not-allowed opacity-70">
            <p class="text-[10px] text-muted mt-1 uppercase font-bold tracking-widest italic">Email cannot be changed</p>
          </div>

          <div>
            <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Preferred Currency</label>
            <select name="preferredCurrency" class="input-field">
              <option value="USD" <%= user.preferredCurrency === 'USD' ? 'selected' : '' %>>USD - US Dollar</option>
              <option value="KES" <%= user.preferredCurrency === 'KES' ? 'selected' : '' %>>KES - Kenyan Shilling</option>
              <option value="UGX" <%= user.preferredCurrency === 'UGX' ? 'selected' : '' %>>UGX - Ugandan Shilling</option>
            </select>
            <p class="text-xs text-muted mt-2">This currency will be used for your primary dashboard display.</p>
          </div>

          <div class="pt-4 border-top border-gray-100 mt-6">
            <button type="submit" class="btn btn-primary px-8">
              Update Profile
            </button>
          </div>
        </form>
      </div>

      <div class="card mt-8 border-red-100 bg-red-50/10">
        <h3 class="text-xl font-bold text-red-600 mb-4">Security</h3>
        <p class="text-sm text-gray-600 mb-6">Change your password or manage sessions.</p>
        <div class="flex gap-4">
          <a href="/forgot-password" class="btn" style="background: white; border: 1px solid var(--border); font-size: 0.875rem;">Change Password</a>
          <button class="btn" style="background: white; border: 1px solid var(--border); font-size: 0.875rem; color: #dc2626;">Deactivate Account</button>
        </div>
      </div>
    </div>
  </div>
</div>
